class Model{constructor(){this.count=Number(localStorage.getItem("count"))||0}increment(){this.count++,this.onChange(this.count)}decrement(){this.count--,this.onChange(this.count)}reset(){this.count=0,this.onChange(this.count)}bindOnChange(e){this.onChange=e}}class View{constructor(){this.count=this.getElement("#count"),this.minus=this.getElement("#minus"),this.plus=this.getElement("#plus"),this.reset=this.getElement("#reset")}getElement(e){return document.querySelector(e)}updateCount(e){this.count.textContent=e}bindIncrement(e){this.plus.addEventListener("click",()=>{e()})}bindDecrement(e){this.minus.addEventListener("click",()=>{e()})}bindReset(e){this.reset.addEventListener("click",()=>{e()})}}class Controller{constructor(e,t){this.model=e,this.view=t,this.model.bindOnChange(this.onCountChanged),this.view.bindIncrement(this.handleIncrement),this.view.bindDecrement(this.handleDecrement),this.view.bindReset(this.handleReset),this.onCountChanged(this.model.count)}onCountChanged=e=>{localStorage.setItem("count",e),this.view.updateCount(e)};handleIncrement=()=>{this.model.increment()};handleDecrement=()=>{this.model.decrement()};handleReset=()=>{this.model.reset()}}const app=new Controller(new Model,new View);
